(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[2],{164:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a={initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{ease:"easeOut",duration:.3}}},181:function(t,e,n){t.exports={list:"ContactList_list__1Spa0",item:"ContactList_item__1YNJM",info:"ContactList_info__1R82u"}},188:function(t,e,n){t.exports={form:"ContactForm_form__nv5cv",label:"ContactForm_label__1E-hq",input:"ContactForm_input__fZ_GS",btn:"ContactForm_btn__3ga18"}},189:function(t,e,n){t.exports={label:"Filter_label__5MGoE",input:"Filter_input__27uL-"}},190:function(t,e,n){t.exports={wrapper:"ContactsView_wrapper__2btYA"}},211:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return T}));var a={};n.r(a),n.d(a,"fetchContacts",(function(){return j})),n.d(a,"addContact",(function(){return f})),n.d(a,"deleteContact",(function(){return d}));var r={};n.r(r),n.d(r,"getContacts",(function(){return m})),n.d(r,"getLoading",(function(){return O})),n.d(r,"getError",(function(){return p})),n.d(r,"getFilter",(function(){return x})),n.d(r,"getVisibleContacts",(function(){return C}));var c=n(2),o=n(0),i=n(14),s=n(27),u=n.n(s),l=n(12),b=n(23),j=function(){return function(t){t(Object(l.fetchContactsRequest)()),u.a.get("/contacts").then((function(e){var n=e.data;return t(Object(l.fetchContactsSuccess)(n))})).catch((function(e){t(Object(l.fetchContactsError)(e)),404===e.response.status?b.b.info("There is no such user's collection!"):500===e.response.status?b.b.error("Oops! Server error! Please try later!"):b.b.error("Something went wrong! Please reload the page!")}))}},f=function(t,e){return function(n){var a={name:t,number:e};n(Object(l.addContactRequest)()),u.a.post("/contacts",a).then((function(t){var e=t.data;return n(Object(l.addContactSuccess)(e))})).catch((function(t){n(Object(l.addContactError)(t)),400===t.response.status?b.b.error("Contact creation error!"):b.b.error("Something went wrong! Please reload the page!")}))}},d=function(t){return function(e){e(Object(l.deleteContactRequest)()),u.a.delete("/contacts/".concat(t)).then((function(){return e(Object(l.deleteContactSuccess)(t))})).catch((function(t){e(Object(l.deleteContactError)(t)),404===t.response.status?b.b.info("There is no such user's collection!"):500===t.response.status?b.b.error("Oops! Server error! Please try later!"):b.b.error("Something went wrong! Please reload the page!")}))}},h=n(44),m=function(t){return t.contacts.items},O=function(t){return t.contacts.isLoading},p=function(t){return t.contacts.error},x=function(t){return t.contacts.filter},C=Object(h.a)([m,x],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),g=n(209),v=n(182),_=n.n(v),w=n(170),N=n(164),S=n(181),k=n.n(S);var y=function(){var t=Object(i.b)(),e=Object(i.c)(r.getVisibleContacts),n=Object(i.c)(r.getContacts);return Object(c.jsxs)(c.Fragment,{children:[n.length>0&&Object(c.jsx)(w.b.ul,{className:k.a.list,children:Object(c.jsx)(w.a,{children:e.map((function(e){var n=e.id,r=e.name,o=e.number;return Object(c.jsxs)(w.b.li,{className:k.a.item,initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:N.a,children:[Object(c.jsxs)("p",{className:k.a.info,children:[Object(c.jsx)("b",{children:r}),Object(c.jsx)("em",{children:o})]}),Object(c.jsx)(g.a,{"aria-label":"delete",color:"secondary",type:"button",onClick:function(){return t(a.deleteContact(n))},children:Object(c.jsx)(_.a,{})})]},n)}))})}),!n.length&&Object(c.jsx)(w.a,{children:Object(c.jsx)(w.b.p,{initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:N.a,children:"Your phonebook is empty. Please add contact."})})]})},L=n(167),E=n(187),F=n(155),P=n(56),q=n(188),R=n.n(q);var J=function(){var t=Object(i.b)(),e=Object(i.c)(r.getContacts),n=Object(i.c)(r.getLoading),s=Object(o.useState)(""),u=Object(L.a)(s,2),l=u[0],j=u[1],f=Object(o.useState)(""),d=Object(L.a)(f,2),h=d[0],m=d[1],O=function(t){var e=t.target,n=e.name,a=e.value;switch(n){case"name":j(a);break;case"number":m(a);break;default:return}},p=function(){j(""),m("")};return Object(c.jsxs)("form",{className:R.a.form,onSubmit:function(n){return n.preventDefault(),function(t){return e.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))}(l)?Object(b.b)("\ud83e\udd14 ".concat(l," is already in the phonebook.")):function(t){return e.find((function(e){return e.number===t}))}(h)?Object(b.b)("\ud83e\udd14 ".concat(h," is already in the phonebook.")):function(t,e){return""===t.trim()||""===e.trim()}(l,h)?b.b.info("\ud83d\ude31 Enter the contact's name and number phone!"):(t(a.addContact(l,h)),void p())},children:[Object(c.jsxs)("label",{className:R.a.label,children:["Name",Object(c.jsx)("input",{className:R.a.input,type:"text",name:"name",value:l,onChange:O,placeholder:"Enter name"})]}),Object(c.jsxs)("label",{className:R.a.label,children:["Number",Object(c.jsx)(E.a,{placeholder:"Enter phone number",format:"(###) ###-##-##",mask:"_",pattern:"^[0-9\\s\\(\\)\\-]{15}",type:"tel",name:"number",value:h,onChange:O,className:R.a.input})]}),!n&&Object(c.jsx)(F.a,{variant:"contained",color:"secondary",size:"large",type:"submit",children:"Add contact"}),n&&Object(c.jsx)(P.a,{})]})},V=n(189),Y=n.n(V);var A=function(){var t=Object(i.b)(),e=Object(i.c)(r.getFilter),n=Object(i.c)(r.getContacts);return Object(c.jsx)(c.Fragment,{children:n.length>0&&Object(c.jsx)(w.a,{children:Object(c.jsx)("label",{className:Y.a.label,children:Object(c.jsx)(w.b.input,{initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:N.a,className:Y.a.input,type:"text",value:e,onChange:function(e){return t(l.filterContact(e.target.value))}})})})})},G=n(190),M=n.n(G);function T(){var t=Object(i.b)();return Object(o.useEffect)((function(){return t(a.fetchContacts())}),[t]),Object(c.jsxs)("div",{className:M.a.wrapper,children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)(J,{}),Object(c.jsx)("h2",{children:"Contacts"}),Object(c.jsx)(A,{}),Object(c.jsx)(y,{})]})}}}]);
//# sourceMappingURL=contacts-view.9a90c178.chunk.js.map